---
title: FME Browser SDK Suite
sidebar_label: Browser SDK Suite
description: Web developer reference for working with FME and Real User Metrics (RUM)
---

import DocCardList from '@theme/DocCardList';

This guide provides detailed information about our Android Suite, an SDK designed to harness the full power of Split. The Android Suite is built on top of the [Android SDK](https://help.split.io/hc/en-us/articles/360020343291-Android-SDK) and the [Android RUM Agent](https://help.split.io/hc/en-us/articles/18530305949837-Android-RUM-Agent), offering a unified solution, optimized for Android development.

The Suite provides the all-encompassing essential programming interface for working with your Split feature flags, as well as capabilities for automatically tracking performance measurements and user events. Code currently using Android SDK or Android RUM Agent can be easily upgraded to Android Suite, which is designed as a drop-in replacement.Language support

This library is designed for Android applications written in Java or Kotlin and is compatible with Android SDK versions 19 and later (4.4 Kit Kat).Initialization

Set up Split in your code base with the following two steps:

## 1. Import the Suite into your project

Import the SDK into your project including the dependency as follows:

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs>
  <TabItem label="Gradle" value="gradle">
  ```java
implementation 'io.split.client:android-suite:2.0.0'
```
  </TabItem>
</Tabs>

:::warning [Important]
When upgrading from Split's Android SDK and/or Android RUM Agent to Android Suite, you need to remove individual project dependencies for the SDK and Agent. The dependency for the Suite replaces these dependencies.
:::

## 2. Instantiate the Suite and create a new Split client

In your code, instantiate the Suite client as shown below.

<Tabs
  groupId="android-suite-lang-choice"
  values={[
    {label: 'Java', value: 'java'},
    {label: 'Kotlin', value: 'kotlin'},
  ]} defaultValue={ props.defaultTab ?? 'java' }>
  <TabItem value="java">
```java
// Split SDK key
String sdkKey = "YOUR_SDK_KEY";

// Build Suite configuration by default
SplitSuiteConfiguration config = SplitSuiteConfiguration.builder().build();

// Create a new user key to be evaluated
// key represents your internal user id, or the account id that 
// the user belongs to
String matchingKey = "key";
Key k = new Key(matchingKey);

// Create Suite
SplitSuite suite = SplitSuiteBuilder.build(sdkKey, k, config, getApplicationContext());

// Get Split Client instance
SplitClient client = suite.client();
```
  </TabItem>
  <TabItem value="kotlin">
```kotlin
// Split SDK key
val sdkKey = "YOUR_SDK_KEY"

// Build Suite configuration by default
val config: SplitSuiteConfiguration = SplitSuiteConfiguration.builder().build()

// Create a new user key to be evaluated
// key represents your internal user id, or the account id that 
// the user belongs to
val matchingKey = "key"
val key: Key = Key(matchingKey)

// Create Suite
val splitFactory: SplitSuite =
    SplitSuiteBuilder.build(sdkKey, key, config, applicationContext)

// Get Split Client instance
val client: SplitClient = splitFactory.client()
```
  </TabItem>
</Tabs>

:::warning[Important]
If you are upgrading from Split's Android RUM Agent to Android Suite and you have setup or config information for the Android RUM Agent in the `AndroidManifest.xml`, then this information will be overridden by the Suite initialization. That is why we recommended that you remove this information from `AndroidManifest.xml` when upgrading.
:::

When the Suite is instantiated, it starts synchronizing feature flag and segment definitions from Split servers, and also starts collecting performance and user events for the configured key and its optional traffic type (which if not set, defaults to `'user'`).

We recommend instantiating the Split factory once as a singleton and reusing it throughout your application.

Configure the Suite with the SDK key for the Split environment that you would like to access. The SDK key is available in the Split UI, on your Admin settings page, API keys section. Select a client-side SDK API key. This is a special type of API token with limited privileges for use in browsers or mobile clients.  See [API keys](https://help.split.io/hc/en-us/articles/360019916211) to learn more.Using the Suite

## Basic use

When the Suite is instantiated, it starts background tasks to update an in-memory cache with small amounts of data fetched from Split servers. This process can take up to a few hundred milliseconds depending on the size of the data. If the Suite is asked to evaluate which treatment to show to a user for a specific feature flag while in this intermediate state, it may not have the data necessary to run the evaluation. In this case, the Suite does not fail, rather, it returns [the control treatment](https://help.split.io/hc/en-us/articles/360020528072-Control-treatment).

To make sure the Suite is properly loaded before asking it for a treatment, block until the Suite is ready, as shown below. We set the client to listen for the `SDK_READY` event triggered by the Suite before asking for an evaluation.

After the `SDK_READY` event fires, you can use the `getTreatment` method to return the proper treatment based on the `FEATURE_FLAG_NAME` and the `key` variables you passed when instantiating the Suite.

You can use an if-else statement as shown below and insert the code for the different treatments that you defined in the Split user interface. Remember to handle the client returning control, for example, in the final else statement.

<Tabs
  groupId="android-suite-lang-choice"
  values={[
    {label: 'Java', value: 'java'},
    {label: 'Kotlin', value: 'kotlin'},
  ]} defaultValue={ props.defaultTab ?? 'java' }>
  <TabItem value="java">
```java
client.on(SplitEvent.SDK_READY, new SplitEventTask() {

    @Override
    public void onPostExecution(SplitClient client) {
      // Logic in background here
    }

    @Override
    public void onPostExecutionView(SplitClient client) {
      // Execute logic in main thread here
      String treatment = client.getTreatment("FEATURE_FLAG_NAME");
      if (treatment.equals("on")) {
        // insert code here to show on treatment
      } else if (treatment.equals("off")) {
          // insert code here to show off treatment
      } else {
          // insert your control treatment code here
      }
    }
});
```
  </TabItem>
  <TabItem value="kotlin">
```kotlin
client.on(SplitEvent.SDK_READY, object : SplitEventTask() {

    override fun onPostExecution(client: SplitClient) {
        // Logic in background here
    }

    override fun onPostExecutionView(client: SplitClient) {
        // Execute main thread logic here
        when (client.getTreatment("FEATURE_FLAG_NAME")) {
            "on" -> {
                // insert code here to show on treatment
            }
            "off" -> {
                // insert code here to show off treatment
            }
            else -> {
                // insert your control treatment code here
            }
        }
    }
```
  </TabItem>
</Tabs>

### More SDK features

<DocCardList />