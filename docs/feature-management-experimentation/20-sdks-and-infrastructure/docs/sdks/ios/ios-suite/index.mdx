---
title: FME iOS SDK Suite
sidebar_label: iOS SDK Suite
description: iOS developer reference to achieve the full power of FME for iOS
---

import DocCardList from '@theme/DocCardList';

This guide provides detailed information about our iOS Suite, an SDK designed to harness the full power of Split. The iOS Suite is built on top of the [iOS SDK](https://help.split.io/hc/en-us/articles/360020401491-iOS-SDK) and the [iOS RUM Agent](https://help.split.io/hc/en-us/articles/22545155055373-iOS-RUM-Agent), offering a unified solution, optimized for iOS development.

The Suite provides the all-encompassing essential programming interface for working with your Split feature flags, as well as capabilities for automatically tracking performance measurements and user events. Code currently using iOS SDK or iOS RUM Agent can be easily upgraded to iOS Suite, which is designed as a drop-in replacement.

# Language support

This library is designed for iOS applications written in Swift and is compatible with iOS versions 12 and later.

# Initialization

Set up Split in your code base with the following two steps:

## 1. Import the Suite into your project

Add the Split SDK, Split RUM agent, and Split Suite into your project using Swift Package Manager by adding the following package dependencies:

- [iOS SDK] (https://github.com/splitio/ios-client), latest version `3.0.0`
- [iOS RUM](https://github.com/splitio/ios-rum), latest version `0.4.0`
- [iOS Suite](https://github.com/splitio/ios-suite), latest version `2.0.1`

:::info[Important!]
When not using the last version of the Split Suite, it is important to take into account the compatibility matrix below.
:::

| Suite | SDK | RUM |
|----------|----------|----------|
| 1.0.0    | 2.24.6   | 0.3.0   |
| 1.1.0    | 2.24.7   | 0.4.0   |
| 1.2.0    | 2.25.0   | 0.4.0   |
| 1.3.0    | 2.26.1   | 0.4.0   |
| 2.0.0    | 3.0.0   | 0.4.0   |
| 2.0.1    | 3.0.0   | 0.4.0   |

Then import the Suite in your code.

```Swift title="Swift"
import iOSSplitSuite
```

## 2. Instantiate the Suite and create a new Split client

In your code, instantiate the Suite client as shown below.

```swift title="Swift"
// Create default Suite configuration
let config = SplitSuiteConfig()

// Split SDK key
let sdkKey = "YOUR_SDK_KEY"
let matchingKey = Key(matchingKey: "key")

// Create Suite
let suite = SplitSuite.builder()
    .apiKey(sdkKey)
    .key(matchingKey)
    .config(config).build()

// Get Split Client instance
let client = suite?.client;
```

:::info[Important]
If you are upgrading from Split's iOS RUM Agent to iOS Suite and you have setup or config information for the iOS RUM Agent in the `SplitRumAgent-Info.plist`, then this information will be overridden by the Suite initialization. That is why we recommended that you remove this information from that file when upgrading.
:::

When the Suite is instantiated, it starts synchronizing feature flag and segment definitions from Split servers, and also starts collecting performance and user events for the configured key and its optional traffic type (which if not set, defaults to `'user'`).

We recommend instantiating the Suite once as a singleton and reusing it throughout your application.

Configure the Suite with the SDK key for the Split environment that you would like to access. The SDK key is available in the Split UI, on your Admin settings page, API keys section. Select a client-side SDK API key. This is a special type of API token with limited privileges for use in browsers or mobile clients.  See [API keys](https://help.split.io/hc/en-us/articles/360019916211) to learn more.

# Using the Suite

## Basic use

When the Suite is instantiated, it starts background tasks to update an in-memory cache with small amounts of data fetched from Split servers. This process can take up to a few hundred milliseconds depending on the size of the data. If the Suite is asked to evaluate which treatment to show to a user for a specific feature flag while in this intermediate state, it may not have the data necessary to run the evaluation. In this case, the Suite does not fail, rather, it returns [the control treatment](https://help.split.io/hc/en-us/articles/360020528072-Control-treatment).

To make sure the Suite is properly loaded before asking it for a treatment, block until the Suite is ready, as shown below. We set the client to listen for the `SDK_READY` event triggered by the Suite before asking for an evaluation.

After the `SDK_READY` event fires, you can use the `getTreatment` method to return the proper treatment based on the `FEATURE_FLAG_NAME` and the `key` variables you passed when instantiating the Suite.

You can use an if-else statement as shown below and insert the code for the different treatments that you defined in the Split user interface. Remember to handle the client returning control, for example, in the final else statement.

```swift title="Swift"
client?.on(event: SplitEvent.sdkReady) {
  // Evaluate feature flag in Split
  let treatment = client?.getTreatment("FEATURE_FLAG_NAME")

  if treatment == "on" {
      // insert code here to show on treatment
  } else if treatment == "off" {
      // insert code here to show off treatment
  } else {
      // insert your control treatment code here
  }
}
```

### More SDK features

<DocCardList />