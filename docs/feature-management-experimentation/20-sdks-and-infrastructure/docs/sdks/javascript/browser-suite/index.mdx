---
title: FME Browser SDK Suite
sidebar_label: Browser SDK Suite
description: Web developer reference for working with FME and Real User Metrics (RUM)
---

import DocCardList from '@theme/DocCardList';

This guide provides detailed information about our JavaScript Browser Suite, an SDK designed to harness the full power of Split. The Browser Suite is built on top of the [Browser SDK](https://help.split.io/hc/en-us/articles/360058730852-Browser-SDK) and the [Browser RUM Agent](https://help.split.io/hc/en-us/articles/360030898431-Browser-RUM-agent), offering a unified solution, optimized for web development.

The Suite provides the all-encompassing essential programming interface for working with your Split feature flags, as well as capabilities for automatically tracking performance measurements and user events. Code currently using Browser SDK or Browser RUM Agent can be easily upgraded to Browser Suite, which is designed as a drop-in replacement.

# Language support

The JavaScript Browser Suite supports all major browsers. While the library was built to support ES5 syntax, it depends on native support for ES6 Promise. If the Promise object is not available in your target browsers, you will need an ES6 Promise polyfill.

# Initialization

Set up Split in your code base with the following two steps:

## 1. Import the Suite into your project

You can import the Suite into your project by installing the NPM package.

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs>
  <TabItem label="NPM (recommended)" value="npm">
```bash
npm install --save @splitsoftware/browser-suite
```
  </TabItem>
  <TabItem label="Yarn" value="yarn">
```bash
yarn add @splitsoftware/browser-suite
```
  </TabItem>
  <TabItem label="CND bundle" value="cdn">
```html
<script src="//cdn.split.io/sdk/browser-suite-2.0.0.min.js"></script>
```
  </TabItem>
</Tabs>

:::info[NPM package is recommended over CDN bundle]
We strongly recommend installing the SDK via NPM or your package manager of choice. The package brings out-of-the-box IntelliSense, TypeScript declarations and tree-shaking support, allowing you to take advantage of optimizations offered by modern module bundlers like Webpack and Rollup.

We also support a prebuilt bundle distributed via CDN. This is particularly useful for quick tests, PoC's or very specific use cases, but it is a large file and may slow down your page load time.
:::

## 2. Instantiate the Suite and create a new Split client

In your code, instantiate the Suite client as shown below.

<Tabs>
  <TabItem label="Using ES modules" value="es">
```javascript
import { SplitSuite } from '@splitsoftware/browser-suite';

// Instantiate the Suite
const suite = SplitSuite({
  core: {
    authorizationKey: 'YOUR_SDK_KEY',
    // key represents your internal user id, or the account id that
    // the user belongs to.
    // This could also be a cookie you generate for anonymous users
    key: 'key'
  }
});

// And get the client instance you'll use
const client = suite.client();
```
  </TabItem>
  <TabItem label="Using CommonJS" value="cjs">
```javascript
var SplitSuite = require('@splitsoftware/browser-suite').SplitSuite;

// Instantiate the Suite
var suite = SplitSuite({
  core: {
    authorizationKey: 'YOUR_SDK_KEY',
    // key represents your internal user id, or the account id that
    // the user belongs to.
    // This could also be a cookie you generate for anonymous users
    key: 'key'
  }
});

// And get the client instance you'll use
var client = suite.client();
```
  </TabItem>
  <TabItem label="Using CDN bundle" value="cdn">
```javascript
// Instantiate the Suite. CDN exposes a splitio object globally,
// with a reference to the SplitSuite (as well as any extra modules)

var suite = splitio.SplitSuite({
  core: {
    authorizationKey: 'YOUR_SDK_KEY',
    // key represents your internal user id, or the account id that
    // the user belongs to.
    // This could also be a cookie you generate for anonymous users
    key: 'key'
  }
});

// And get the client instance you'll use
var client = suite.client();
```
  </TabItem>
</Tabs>

When the Suite is instantiated, it starts synchronizing feature flag and segment definitions from Split servers, and also starts collecting performance and user events for the configured key and its optional traffic type (which if not set, defaults to `'user'`).

We recommend instantiating the Suite once as a singleton and reusing it throughout your application.

Configure the Suite with the SDK key for the Split environment that you would like to access. The SDK key is available in the Split UI, on your Admin settings page, API keys section. Select a client-side SDK API key. This is a special type of API token with limited privileges for use in browsers or mobile clients.  See [API keys](https://help.split.io/hc/en-us/articles/360019916211) to learn more.

# Using the Suite

## Basic use

When the Suite is instantiated, it starts background tasks to update an in-memory cache with small amounts of data fetched from Split servers. This process can take up to a few hundred milliseconds depending on the size of the data. If the Suite is asked to evaluate which treatment to show to a user for a specific feature flag while in this intermediate state, it may not have the data necessary to run the evaluation. In this case, the Suite does not fail, rather, it returns [the control treatment](https://help.split.io/hc/en-us/articles/360020528072-Control-treatment).

To make sure the Suite is properly loaded before asking it for a treatment, block until the Suite is ready, as shown below. We set the client to listen for the `SDK_READY` event triggered by the Suite before asking for an evaluation.

After the `SDK_READY` event fires, you can use the `getTreatment` method to return the proper treatment based on the `FEATURE_FLAG_NAME` and the `key` variables you passed when instantiating the Suite.

You can use an if-else statement as shown below and insert the code for the different treatments that you defined in the Split user interface. Remember to handle the client returning control, for example, in the final else statement.

<Tabs
  groupId="browser-suite-lang-choice"
  values={[
    {label: 'JavaScript', value: 'javascript'},
    {label: 'TypeScript', value: 'typescript'},
  ]} defaultValue={ props.defaultTab ?? 'javascript' }>
  <TabItem value="javascript">

```javascript
client.on(client.Event.SDK_READY, function() {
  var treatment = client.getTreatment('FEATURE_FLAG_NAME');

  if (treatment == "on") {
      // insert code here to show on treatment
  } else if (treatment == "off") {
      // insert code here to show off treatment
  } else {
      // insert your control treatment code here
  }
});
```
  </TabItem>
  <TabItem value="typescript">
```javascript
client.on(client.Event.SDK_READY, function() {
  const treatment: SplitIO.Treatment = client.getTreatment('FEATURE_FLAG_NAME');

  if (treatment == "on") {
      // insert code here to show on treatment
  } else if (treatment == "off") {
      // insert code here to show off treatment
  } else {
      // insert your control treatment code here
  }
});
```
  </TabItem>
</Tabs>

### More SDK features

<DocCardList />