---
title: FME Flutter plugin
sidebar_label: Flutter plugin
description: Flutter developer reference for working with FME on the client side
---

import DocCardList from '@theme/DocCardList';

This guide provides detailed information about our Flutter plugin which is built on top of our [Android SDK](https://help.split.io/hc/en-us/articles/360020343291-Android-SDK) and [iOS](https://help.split.io/hc/en-us/articles/360020401491-iOS-SDK) mobile SDKs. The plugin provides you a way to interact with the native SDKs.

All of our SDKs are open source. Go to our [Flutter GitHub repository](https://github.com/splitio/flutter-sdk-plugin) to see the source code.

## Language support

Dart SDK v2.16.2 and greater, and Flutter v2.5.0 and greater.

:::warning[Platform support]
This plugin currently supports the Android and iOS platforms.
:::

## Initialization

Set up Split in your code base with the following two steps:

### 1. Add the package in your pubspec.yaml file

```yaml title="pubspec.yaml"
dependencies:
  splitio: 0.2.0
```

### 2. Instantiate the plugin

```dart title="Flutter"
/// Initialize Split plugin
import 'package:splitio/split_client.dart';
import 'package:splitio/splitio.dart';
/// KEY represents your internal user id, or the account id that 
/// the user belongs to. 
/// This could also be a cookie you generate for anonymous users.
final Splitio _split = Splitio('YOUR_SDK_KEY', 'KEY');
```

We recommend instantiating the `Splitio` object once as a singleton and reusing it throughout your application.

Configure the plugin with the SDK key for the Split environment that you would like to access. The SDK key is available in the Split UI, on your Admin settings page, API keys section. Select a client-side SDK API key. This is a special type of API token with limited privileges for use in browsers or mobile clients. See [API keys](https://help.split.io/hc/en-us/articles/360019916211) to learn more.

## Using the plugin

### Basic use

When the SDK is instantiated, it starts background tasks to update an in-memory cache with small amounts of data fetched from Split servers. This process can take up to a few hundred milliseconds, depending on the size of data. If the SDK is asked to evaluate which treatment to show to a customer for a specific feature flag while it's in this intermediate state, it may not have the data necessary to run the evaluation. In this case, the SDK does not fail, rather, it returns [the control treatment](https://help.split.io/hc/en-us/articles/360020528072-Control-treatment).

To make sure the SDK is properly loaded before asking it for a treatment, wait until the SDK is ready, as shown below. You can use the `onReady` parameter when creating the client to get notified when this happens.

After the observable calls back, you can use the `getTreatment` method to return the proper treatment based on the `FEATURE_FLAG_NAME` and the `key` variable you passed when instantiating the SDK. Then use an if-else-if block as shown below and insert the code for the different treatments that you defined in the Split user interface. Remember the final else branch in your code to handle the client returning control.

```dart title="Flutter"

/// Get treatment
_split.client(onReady: (client) async {
  final String treatment = await client.getTreatment('FEATURE_FLAG_NAME');

  if (treatment == 'on') {
    /// Insert code here to show on treatment
  } else if (treatment == 'off') {
    /// Insert code here to show off treatment
  } else {
    /// Insert your control treatment code here
  }
});
```

#### More SDK features

<DocCardList />