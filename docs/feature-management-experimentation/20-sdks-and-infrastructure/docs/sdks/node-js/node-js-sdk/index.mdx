---
title: FME Node.js SDK
sidebar_label: Node.js SDK
description: Node.js developer reference for working with FME on the server side
---

import DocCardList from '@theme/DocCardList';

This guide provides detailed information about our Node.js SDK. All of our SDKs are open source. Go to our [Node.js SDK GitHub repository](https://github.com/splitio/javascript-client) to learn more.Language support

The JavaScript SDK supports Node.js version 14.x or later.Initialization

Set up Split in your code base with two simple steps.

## 1. Import the SDK into your project

The SDK is published using `npm`, so it's fully integrated with your workflow.

```bash title="NPM"
npm install --save @splitsoftware/splitio
```

:::warning[If using Synchronizer with Redis - Synchronizer 2.x required after SDK Version 10.6.0]
Since version 2.0.0 of the split-synchronizer, we use a more efficient scheme to store impressions in Redis. This approach is faster and easier on your Redis instances, since it yields better throughput of impressions to the backend. If you use this SDK with the Synchronizer in Redis or Proxy mode, you will need the newest versions of our Split Synchronizer. It is recommended that once you're using SDK versions compatible with Split-Sync 2.0 on all your applications pointing to the redis instance maintained by the Split-Sync, you disable backwards compatibility (this is as easy as changing a parameter to `true` on the JSON config or an environment variable to `on` if you're using the docker image).
:::

## 2. Instantiate the SDK and create a new Split client

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs
  groupId="javascript-sdk-lang-choice"
  values={[
    {label: 'JavaScript', value: 'javascript'},
    {label: 'TypeScript', value: 'typescript'},
  ]}>
  <TabItem value="javascript">
```javascript
var SplitFactory = require('@splitsoftware/splitio').SplitFactory;

var factory = SplitFactory({
  core: {
    authorizationKey: 'YOUR_SDK_KEY'
  }
});

var client = factory.client();
```
  </TabItem>
  <TabItem value="typescript">
```javascript
import { SplitFactory } from '@splitsoftware/splitio';

const factory: SplitIO.ISDK = SplitFactory({
  core: {
    authorizationKey: 'YOUR_SDK_KEY'
  }
});

const client: SplitIO.IClient = factory.client();
```
  </TabItem>
</Tabs>

:::warning
**Updating to Node.js SDK version 11**

While Split Node.js SDK previously supported Node.js v6 and above, the SDK now requires Node.js v14 or above.

**Updating to Node.js SDK version 10**

We changed our module system to ES modules and now we are exposing an object with a SplitFactory property. That property points to the same factory function that we were returning in the previous versions. Take a look at the snippet above to see the code.
:::

:::danger[Running in the Browser?]
Refer to our [JavaScript SDK Setup](https://help.split.io/hc/en-us/articles/360020448791-JavaScript-SDK#1-import-the-sdk-into-your-project) as the bundles and API are slightly different.
:::

:::info[Notice for TypeScript]
With the SDK package on NPM, you get the SplitIO namespace, which contains useful types and interfaces for you to use.

Feel free to dive in to the declaration files if IntelliSense is not enough!
:::

We recommend instantiating the Split factory once as a singleton and reusing it throughout your application.

Configure the SDK with the SDK key for the Split environment that you would like to access. The SDK key is available in the Split user interface, on your Admin settings page, API keys section. Select a server-side SDK API key. See [API keys](https://help.split.io/hc/en-us/articles/360019916211) to learn more.

Use the Split client to evaluate treatments.Using the SDK

## Basic use

When the SDK is instantiated, it kicks off background jobs to update an in-memory cache with small amounts of data fetched from Split servers. This process can take up to a few hundred milliseconds. While the SDK is in this intermediate state, if it is asked to evaluate which treatment to show to the logged in customer for a specific feature flag, it may not have data necessary to run the evaluation. In this case, the SDK does not fail, rather, it returns [the control treatment](https://help.split.io/hc/en-us/articles/360020528072-Control-treatment).

To make sure the SDK is properly loaded before asking it for a treatment, block until the SDK is ready (as shown below). We set the client to listen for the `SDK_READY` event triggered by the SDK before asking for an evaluation.

When the `SDK_READY` event fires, you can use the `getTreatment` method to return the proper treatment based on the `key` and `FEATURE_FLAG_NAME` attributes you provided.

Then use an if-else-if block as shown below and insert the code for the different treatments that you defined in the Split user interface. Remember the final else branch in your code to handle the client returning the [control treatment](https://help.split.io/hc/en-us/articles/360020528072-Control-treatment).

<Tabs
  groupId="javascript-sdk-lang-choice"
  values={[
    {label: 'JavaScript', value: 'javascript'},
    {label: 'TypeScript', value: 'typescript'},
  ]}>
  <TabItem value="javascript">
```javascript
client.on(client.Event.SDK_READY, function() {
  // The key here represents the ID of the user/account/etc you're trying to evaluate a treatment for
  var treatment = client.getTreatment('key', 'FEATURE_FLAG_NAME');

  if (treatment == 'on') {
      // insert code here to show on treatment
  } else if (treatment == 'off') {
      // insert code here to show off treatment
  } else {
      // insert your control treatment code here
  }
});
```
  </TabItem>
  <TabItem value="typescript">
```javascript
client.on(client.Event.SDK_READY, () => {
  // The key here represents the ID of the user/account/etc you're trying to evaluate a treatment for
  const treatment: SplitIO.Treatment =
    client.getTreatment('key', 'FEATURE_FLAG_NAME');

  if (treatment == 'on') {
      // insert code here to show on treatment
  } else if (treatment == 'off') {
      // insert code here to show off treatment
  } else {
      // insert your control treatment code here
  }
});
```
  </TabItem>
</Tabs>

### More SDK features

<DocCardList />