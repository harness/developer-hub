---
title: Ingest Software Bill of Materials (SBOM) data into SCS
description: Harness SCS can ingest data from any scanner that can generate an SBOM.
sidebar_label: Ingest SBOM
sidebar_position: 20
---
import CosignKeyGeneration from '/docs/software-supply-chain-assurance/shared/generate-cosign-key-pair.md';

A [Software Bill of Materials (SBOM)](https://cyclonedx.org/capabilities/sbom/) is a list of all the components, libraries, and other dependencies used in a software application. While Harness SCS enables you to [generate SBOMs](./generate-sbom.md), it also supports the ingestion of SBOMs in JSON, [SPDX](https://spdx.dev/learn/overview/) or [CycloneDx](https://cyclonedx.org/specification/overview/) formats, generated by any third-party tool.

This document provides a step-by-step guide to configuring the SBOM Orchestration step within SCS to seamlessly ingest SBOMs. To illustrate the process, we'll walk through generating an SBOM using the Trivy CLI in a CI Run step, followed by its ingestion using the SBOM Orchestration step.

:::info

If you are utilizing STO Steps to generate the SBOM and wish to ingest it, please refer:

* [Ingest results from a Blackduck STO scan step.](./generate-sbom-blackduck.md)
* [Ingest results from an Aqua Trivy STO scan step.](./generate-sbom-aqua-trivy.md)

:::

## Requirements
### Generate the keys for SBOM Attestation - optional

For enhanced trust and verification of your SBOM's integrity, the SBOM Orchestration step offers optional signing and attestation generation. This functionality requires a private key, password, and corresponding public key. If you choose to skip signing, you can proceed without generating or storing these keys.

Here's how to set these keys if you choose to enable signing

- **Generate the keys**: Begin by generating the keys using [Cosign](https://docs.sigstore.dev/signing/quickstart)
- **Securely store the keys**: Safeguard the generated private key, public key, and password by creating [Harness file secrets](https://developer.harness.io/docs/platform/secrets/add-file-secrets/) for each.


## Configure your pipeline to ingest SBOM
1. In your Harness pipeline, Navigate to the stage where you want to ingest the SBOM, and select the **Overview** tab.
2. In **Shared Paths**, enter a path to a location where your SBOM can be stored on the build machine, such as `/shared/customer_artifacts`.

   <DocImage path={require('../../security-testing-orchestration/use-sto/static/ingesting-issues-from-other-scanners-00.png')} width="70%" height="70%" />

3. Add a step to your stage that generates an SBOM, such as a **Run**, **Plugin**, or **GitHub Action** step.

   For example, this **Run** step uses [Aqua Trivy](https://aquasecurity.github.io/trivy/dev/docs/supply-chain/sbom/) to generate an SBOM.

   ```
    trivy image \
     --format spdx-json \
     --output /shared/customer_artifacts/result.spdx.json \
     ubuntu:22.04
   ```

   <DocImage path={require('../static/ingesting-sbom-from-other-scanners-01.png')} width="50%" height="70%" />

   :::tip

   You can also configure pipelines to [ingest SBOM from STO scanner steps](./generate-sbom-blackduck.md).

   :::

4. If your SBOM tool can't output directly to your **Shared Path**, then add commands or a **Run** step to copy the SBOM into the directory specified in **Shared Paths**.
5. Add an [SBOM Orchestration step](./generate-sbom.md#add-the-sbom-orchestration-step) configured to ingest the SBOM:

:::info
**SBOM Orchestration** step in deploy stage can only be used in the [Containerized Step Groups](/docs/continuous-delivery/x-platform-cd-features/cd-steps/containerized-steps/containerized-step-groups.md)
:::

   * **Step Mode:** Set the step mode to **Ingestion**.
   * **SBOM File Path:** enter the path to the SBOM file generated by your SBOM tool.
   * **Source:** Set the source, which can be DockerHub, ECR, GCR, ACR or Repository. Depending on your selection, a unique set of fields will appear, each specific to the source you've chosen. Address these fields as required, this is similar to configuring the source in SBOM Orchestration step. For more details of what each field entails, please refer to the [documentation on SBOM Orchestration](./generate-sbom.md#add-the-sbom-orchestration-step). If you are using DockerHub, you can follow along.
   * **Image:**, Enter the name of your image with tag, such as `my-docker-org/repo-name:tag`.
   <details>
      <summary>Generate key pairs using Cosign for SBOM Attestation</summary>

      <CosignKeyGeneration />

   </details>

   * **Private Key (optional):** Input your Private key from the [Harness file secret](/docs/platform/secrets/add-file-secrets).

   * **Password (optional):** Input your Password for the Private key from the [Harness file secret](/docs/platform/secrets/add-file-secrets).

   <DocImage path={require('../static/ingesting-sbom-from-other-scanners-02.png')} width="50%" height="50%" />

## Run the pipeline
â€‹
When the pipeline runs, the SBOM Orchestration step performs the following actions:

- Ingests the SBOM to SCS module.
- Specifically for Containers:
   - Generates and signs an attestation using the provided private key and password.
   - Stores the SBOM in Harness and uploads the `.att` file to your container registry.

SBOMs for both Containers and Code Repositories are accessible in the [Artifacts view](../artifact-view.md). Additionally, you can locate the SBOM for any artifact on the **Supply Chain** tab within the **Execution Details** page in Harness. For detailed insights, please refer to the [view pipeline execution](../ssca-view-results.md#view-sbom-and-drift-analysis) results documentation.